<!DOCTYPE html>
<html>
    <head>
        <meta charset='UTF-8'/>
        <title>substituion Cipher</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>
    <body>
       
        <div style="padding: 20px; width:80%; margin:auto; margin-top:30px;">
            <a class="btn btn-primary" href="index.html" role="button" style="float: right;">Home</a>
            <h1>Substituion Cipher</h1>
            <p>Let P = C = ℤ<sub>26</sub>, K consists of all possible permutations of 26 symbols 0,1,2,...25. For each permutation &pi;∈ K, define 𝑒<sub>&pi;</sub>𝑥 = 𝜋(𝑥) and d<sub>&pi;</sub>(y) = &pi;<sup>-1</sup>(x) where 𝜋<sup>-1</sup> is inverse permutation of 𝜋. </p>
            <ul>
                <li>For encryption: e<sup>&pi;</sup>(x) = &pi;(x)</li>
                <li>For decryption: d<sub>&pi;</sub>(y) = &pi;<sup>-1</sup>(x)</li>
            
            </ul>
            <h3>check it out</h3>
            <div class="form-group row">
                <label class="col-sm-1 col-form-label" >Enter text: </label>
                <div class="col-sm-10">
                    <textarea id="text" class="form-control" aria-label="With textarea" placeholder="type plain/cipher text"></textarea>
                    
                </div>
            </div>
            <div class="form-group row">
                <label for="key" class="col-sm-1 col-form-label">Enter key: </label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="key" placeholder="enter 𝜋 or 𝜋 inverse">
                </div>
            </div>
            <button onclick="encrypt()" class="btn btn-primary">Encrypt</button>
            <button onclick="decrypt()" class="btn btn-primary">Decrypt</button>
            <div style="margin: 10px;">
                <p id="given_plaintext"></p>
                <p id="given_ciphertext"></p>
                <p id="used_key"></p>
                <p id="result_plaintext"></p>
                <p id="result_ciphertext"></p>
            </div>  
        </div> 
        <script>
            
            function encrypt(){
                var plaintext=document.getElementById("text").value;
                var key=document.getElementById('key').value;
                if(plaintext=="")
                {
                    window.alert("oops! plain text is empty");
                    return;
                }
                if(key=="")
                {
                    window.alert("oops! key is empty");
                    return;
                }

                var ciphertext="";
                for(let i=0;i<plaintext.length;i++)
                {
                    var temp=key.charAt(plaintext.charCodeAt(i)-97);
                    ciphertext+=temp;
                }

                document.getElementById("given_plaintext").innerHTML="given plaintext: "+plaintext;
                document.getElementById("used_key").innerHTML="key used: "+ key;
                document.getElementById("result_ciphertext").innerHTML="cipher text: " +ciphertext;
                document.getElementById("given_ciphertext").innerHTML="";
                document.getElementById("result_plaintext").innerHTML="";
                return;
            } 
             function decrypt(){
                var ciphertext=document.getElementById("text").value;
                var key=document.getElementById('key').value;
                if(ciphertext=="")
                {
                    window.alert("oops! cipher text is empty");
                    return;
                }
                if(key=="")
                {
                    window.alert("oops! key is empty");
                    return;
                }

                var plaintext="";
                for(let i=0;i<ciphertext.length;i++)
                {
                    var temp=key.charAt(ciphertext.charCodeAt(i)-97);
                    plaintext+=temp;
                }

               
                document.getElementById("given_ciphertext").innerHTML="given ciphertext: "+ciphertext;
                document.getElementById("used_key").innerHTML="key used: "+key;
                document.getElementById("result_plaintext").innerHTML="plain text: " + plaintext;
                document.getElementById("given_plaintext").innerHTML="";
                document.getElementById("result_ciphertext").innerHTML="";
                return;
            } 
        </script>
    </body>
</html>